import{_ as u}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,b as o,e as r,a as e,w as a,r as l,o as m,d as n}from"./app-C80Pz9_H.js";const g={};function h(v,t){const c=l("CodeTabs"),p=l("Tabs");return m(),d("div",null,[t[10]||(t[10]=o('<p>The Stone Router is a simple yet powerful routing library for both backend and frontend applications. It allows you to define routes, match incoming events, and manage middleware in a clean, context-aware, and efficient way.</p><p>By default, Stone.js applications are <strong>mono-routed</strong>, you typically only need a single event handler. But when your application requires <strong>multiple route definitions</strong>, dynamic segments, grouping, or advanced middleware logic, you can enable the full Router by installing the <code>@stone-js/router</code> package.</p><p>The router lives in the <strong>initialization dimension</strong> of the <a href="../architecture/continuum">Continuum Architecture</a>. It’s globally available, fully integrated into the <a href="../architecture/container">service container</a>, and seamlessly interoperates with all other parts of the system.</p><p>Once enabled, you’ll primarily work with <strong>route definitions</strong> (the blueprint), while the Router handles instantiation and resolution of actual <code>Route</code> objects behind the scenes. That means you can focus on the “what” of your application’s routes, not the “how”.</p><h2 id="install-and-activate" tabindex="-1"><a class="header-anchor" href="#install-and-activate"><span>Install and Activate</span></a></h2><p>To get started, install the router module:</p>',6)),r(c,{data:[{id:"npm"},{id:"yarn"},{id:"pnpm"}],active:0,"tab-id":"package-manager"},{title0:a(({value:s,isActive:i})=>t[0]||(t[0]=[n("npm")])),title1:a(({value:s,isActive:i})=>t[1]||(t[1]=[n("yarn")])),title2:a(({value:s,isActive:i})=>t[2]||(t[2]=[n("pnpm")])),tab0:a(({value:s,isActive:i})=>t[3]||(t[3]=[e("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",{class:"language-bash"},[e("span",{class:"line"},[e("span",{class:"token function"},"npm"),n(),e("span",{class:"token function"},"install"),n(" @stone-js/router")]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"})])],-1)])),tab1:a(({value:s,isActive:i})=>t[4]||(t[4]=[e("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",{class:"language-bash"},[e("span",{class:"line"},[e("span",{class:"token function"},"yarn"),n(),e("span",{class:"token function"},"add"),n(" @stone-js/router")]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"})])],-1)])),tab2:a(({value:s,isActive:i})=>t[5]||(t[5]=[e("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[e("pre",null,[e("code",{class:"language-bash"},[e("span",{class:"line"},[e("span",{class:"token function"},"pnpm"),n(),e("span",{class:"token function"},"add"),n(" @stone-js/router")]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"})])],-1)])),_:1}),t[11]||(t[11]=e("p",null,"Stone.js does not enable the router by default. You must opt-in using either the declarative or imperative API.",-1)),r(p,{data:[{id:"Declarative"},{id:"Imperative"}],active:0,"tab-id":"declarative-imperative"},{title0:a(({value:s,isActive:i})=>t[6]||(t[6]=[n("Declarative")])),title1:a(({value:s,isActive:i})=>t[7]||(t[7]=[n("Imperative")])),tab0:a(({value:s,isActive:i})=>t[8]||(t[8]=[e("h3",{id:"declarative-activation",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#declarative-activation"},[e("span",null,"Declarative Activation")])],-1),e("p",null,[n("Use the "),e("code",null,"@Routing()"),n(" decorator alongside your main "),e("code",null,"@StoneApp()"),n(" application class:")],-1),e("div",{class:"language-typescript line-numbers-mode","data-highlighter":"prismjs","data-ext":"ts"},[e("pre",null,[e("code",{class:"language-typescript"},[e("span",{class:"line"},[e("span",{class:"token keyword"},"import"),n(),e("span",{class:"token punctuation"},"{"),n(" StoneApp "),e("span",{class:"token punctuation"},"}"),n(),e("span",{class:"token keyword"},"from"),n(),e("span",{class:"token string"},"'@stone-js/core'"),e("span",{class:"token punctuation"},";")]),n(`
`),e("span",{class:"line"},[e("span",{class:"token keyword"},"import"),n(),e("span",{class:"token punctuation"},"{"),n(" Routing "),e("span",{class:"token punctuation"},"}"),n(),e("span",{class:"token keyword"},"from"),n(),e("span",{class:"token string"},"'@stone-js/router'"),e("span",{class:"token punctuation"},";")]),n(`
`),e("span",{class:"line"}),n(`
`),e("span",{class:"line"},[e("span",{class:"token decorator"},[e("span",{class:"token at operator"},"@"),e("span",{class:"token function"},"Routing")]),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")")]),n(`
`),e("span",{class:"line"},[e("span",{class:"token decorator"},[e("span",{class:"token at operator"},"@"),e("span",{class:"token function"},"StoneApp")]),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")")]),n(`
`),e("span",{class:"line"},[e("span",{class:"token keyword"},"export"),n(),e("span",{class:"token keyword"},"class"),n(),e("span",{class:"token class-name"},"Application"),n(),e("span",{class:"token punctuation"},"{"),e("span",{class:"token punctuation"},"}")]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),e("p",null,"This is the preferred approach for class-based applications and ensures the router is registered early in the setup phase.",-1)])),tab1:a(({value:s,isActive:i})=>t[9]||(t[9]=[e("h3",{id:"imperative-activation",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#imperative-activation"},[e("span",null,"Imperative Activation")])],-1),e("p",null,"You can also activate the router by imperatively registering the routing blueprint:",-1),e("div",{class:"language-typescript line-numbers-mode","data-highlighter":"prismjs","data-ext":"ts"},[e("pre",null,[e("code",{class:"language-typescript"},[e("span",{class:"line"},[e("span",{class:"token keyword"},"import"),n(),e("span",{class:"token punctuation"},"{"),n(" routerBlueprint "),e("span",{class:"token punctuation"},"}"),n(),e("span",{class:"token keyword"},"from"),n(),e("span",{class:"token string"},"'@stone-js/router'"),e("span",{class:"token punctuation"},";")]),n(`
`),e("span",{class:"line"}),n(`
`),e("span",{class:"line"},[n("blueprint"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"set"),e("span",{class:"token punctuation"},"("),n("routerBlueprint"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";")]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),e("p",null,"This is useful in functional or dynamically composed applications.",-1)])),_:1}),t[12]||(t[12]=o(`<h2 id="accessing-the-router" tabindex="-1"><a class="header-anchor" href="#accessing-the-router"><span>Accessing the Router</span></a></h2><p>Once activated, the <code>Router</code> instance is created internally and injected into the <strong>service container</strong>. You can retrieve it using the standard container API from anywhere in your application:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> router <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token string">&#39;router&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Router</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Each time an incoming event is processed and a route is matched, the <strong>current <code>Route</code> instance</strong> is also injected into the container:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> currentRoute <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token string">&#39;route&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Route</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">Important</p><p>The <code>route</code> binding is only available after the router has matched a route for the current incoming event. If you try to access it too early (e.g., in the onInit hook), it may not be defined yet.</p></div><h2 id="context-aware-by-design" tabindex="-1"><a class="header-anchor" href="#context-aware-by-design"><span>Context-Aware by Design</span></a></h2><p>As with all components in Stone.js, the router is fully <strong>context-aware</strong>. It doesn’t care whether you&#39;re running in a Node server, on a serverless function, in a browser SPA, or in an SSR context. Define your routes declaratively or imperatively, and the router will do the rest.</p><p>You can also configure it globally, both at <strong>setup time</strong> (e.g. via decorators or blueprint config) and at <strong>runtime</strong> (e.g. dynamic route registration).</p><p>This makes the Stone Router ideal for:</p><ul><li>Cloud-native apps with dynamic route needs</li><li>Backend APIs with fine-grained control</li><li>Frontend SPAs and SSR apps with deep linking</li><li>Multitenant or subdomain-based routing</li><li>Any project where context determines behavior</li></ul>`,11))])}const k=u(g,[["render",h]]),f=JSON.parse('{"path":"/docs/router/","title":"Router","lang":"en-US","frontmatter":{"title":"Router","description":"The Stone Router is a simple yet powerful routing library for both backend and frontend applications. It allows you to define routes, match incoming events, and manage middlewar...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Router\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-06-07T20:31:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr. Stone\\"}]}"],["meta",{"property":"og:url","content":"https://stonejs.com/docs/router/"}],["meta",{"property":"og:site_name","content":"Stone.js"}],["meta",{"property":"og:title","content":"Router"}],["meta",{"property":"og:description","content":"The Stone Router is a simple yet powerful routing library for both backend and frontend applications. It allows you to define routes, match incoming events, and manage middlewar..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-06-07T20:31:21.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-07T20:31:21.000Z"}]]},"git":{"createdTime":1749328281000,"updatedTime":1749328281000,"contributors":[{"name":"Mr Stone","username":"","email":"pierre.evens16@gmail.com","commits":1}]},"readingTime":{"minutes":1.74,"words":522},"filePathRelative":"docs/router/README.md","autoDesc":true}');export{k as comp,f as data};
